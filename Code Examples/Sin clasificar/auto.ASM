CODIGO SEGMENT
  ASSUME CS:CODIGO

INICIO:	MOV DX, 378H
	MOV AL, 01H
	MOV BH, 00H

INI2:	CMP BH, 00H
	JE TRUE1
	JNE FALSE1

TRUE1:	CMP AL, 80H
	JE TRUE2
	JNE FALSE2

TRUE2:	MOV BH, 01H
	JMP INI2

FALSE2:	SHL AL, 1
	OUT DX, AL
	CALL RETARD
	JMP INI2

FALSE1:	CMP AL, 01H
	JE TRUE3
	JNE FALSE3

TRUE3:	MOV BH, 00H
	JMP INI2

FALSE3:	SHR AL, 1
	OUT DX, AL
	CALL RETARD
	JMP INI2

RETARD:	PUSH AX
	PUSH BX
	PUSH CX
	MOV AX, 1000
P3:	MOV BX, 1000
P2:	MOV CX, 50
P1:	DEC CX
	JNZ P1
	DEC BX
	JNZ P2
	DEC AX
	JNZ P3
	POP CX
	POP BX
	POP AX
	RET

	CODIGO ENDS

END INICIO


