CODIGO SEGMENT
  ASSUME CS: CODIGO

INICIO:	MOV BX, 01H	;Valor inicial del registro de desplazamiento
	MOV CL, 00H	;Indicador en 0 para desplazamiento inicial a la izquierda

INICI2:	CMP CL, 00H
	JE TRUE1
	JNE FALSE1

TRUE1:	CMP BX, 8000H
	JE TRUE2
	JNE FALSE2

TRUE2:	MOV CL, 01H
	JMP INICI2

FALSE2:	SHL BX, 1
	CALL SALIDA
	CALL RETARD
	JMP INICI2

FALSE1:	CMP BX, 0001H
	JE TRUE3
	JNE FALSE3

TRUE3:	MOV CL, 00H
	JMP INICI2

FALSE3:	SHR BX, 1
	CALL SALIDA
	CALL RETARD
	JMP INICI2

SALIDA: MOV DX, 378H
	MOV AL, BL
	OUT DX, AL
	MOV DX, 37AH
	MOV AL, 0EH
	OUT DX, AL
	NOP
	NOP
	NOP
	NOP
	MOV AL, 0FH
	OUT DX, AL
	MOV DX, 378H
	MOV AL, BH
	OUT DX, AL
	MOV DX, 37AH
	MOV AL, 0DH
	OUT DX, AL
	NOP
	NOP
	NOP
	NOP
	MOV AL, 0FH
	OUT DX, AL
	RET

RETARD:	PUSH AX
	PUSH BX
	PUSH CX
	MOV AX, 1000
P3:	MOV BX, 1000
P2:	MOV CX, 50
P1:	DEC CX
	JNZ P1
	DEC BX
	JNZ P2
	DEC AX
	JNZ P3
	POP CX
	POP BX
	POP AX
	RET

	CODIGO ENDS

END INICIO